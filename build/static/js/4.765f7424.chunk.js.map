{"version":3,"sources":["pages/Detail.js"],"names":["recents","박스","styled","div","제목","h4","props","색상","TabContent","useEffect","스위치변경","누른탭","Detail","history","useHistory","dispatch","useDispatch","id","useParams","찾은상품","shoes","find","상품","useState","alert","alert변경","누른탭변경","스위치","recent","setRecent","타이머","setTimeout","clearTimeout","arr","localStorage","getItem","idx","JSON","parse","indexOf","splice","unshift","length","setItem","stringify","goDetailPage","el","axios","get","then","result","data","shoes변경","catch","console","log","getDataAndSetting","push","className","map","i","src","Number","onClick","width","title","content","price","type","데이터","name","quan","image","variant","defaultActiveKey","Item","Link","eventKey","style","color","in","classNames","timeout"],"mappings":"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","file":"static/js/4.765f7424.chunk.js","sourcesContent":["/* import Library */\nimport axios from 'axios';\nimport { Nav } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport '../styles/pages/Detail.scss';\nimport { useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\n\nlet recents = [];\n\nlet 박스 = styled.div`\n  padding: 20px;\n`;\nlet 제목 = styled.h4`\n  font-size: 25px;\n  color: ${props => props.색상};\n`;\n\nfunction Detail(props) {\n  let history = useHistory();\n  let dispatch = useDispatch();\n\n  let { id } = useParams();\n  let 찾은상품 = props.shoes.find(function (상품) {\n    return 상품.id == id;\n  });\n  const [alert, alert변경] = useState(true);\n  let [누른탭, 누른탭변경] = useState(0);\n  let [스위치, 스위치변경] = useState(false);\n  let [recent, setRecent] = useState([]);\n\n  const getDataAndSetting = el => {\n    if (props.shoes.length < 4) {\n      axios\n        .get('https://codingapple1.github.io/shop/data2.json')\n        .then(result => {\n          if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n        })\n        .catch(() => {\n          console.log('실패');\n        });\n    }\n\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(el);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(el);\n    } else {\n      arr.unshift(el);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n\n    alert변경(true);\n    let 타이머 = setTimeout(() => {\n      alert변경(false);\n    }, 2000);\n    return () => {\n      clearTimeout(타이머);\n    };\n  };\n\n  useEffect(() => {\n    let 타이머 = setTimeout(() => {\n      alert변경(false);\n    }, 2000);\n    return () => {\n      clearTimeout(타이머);\n    };\n  }, []);\n\n  useEffect(() => {\n    // localStorage.clear();\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(id);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(id);\n    } else {\n      arr.unshift(id);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  }, []);\n\n  const goDetailPage = el => {\n    getDataAndSetting(el);\n    setTimeout(() => {\n      history.push('/detail/' + el);\n    }, 300);\n  };\n\n  useEffect(() => {\n    setRecent(recents);\n  }, [recents]);\n\n  return (\n    <div className='container'>\n      <div id='recentBox'>\n        <p className='title'>Recently Viewed</p>\n        {recent.map((el, i) => {\n          return (\n            <div className='imgWrapper' key={el}>\n              <img\n                className='img'\n                src={`https://codingapple1.github.io/shop/shoes${\n                  Number(el) + 1\n                }.jpg`}\n                onClick={() => {\n                  goDetailPage(el);\n                }}\n              ></img>\n            </div>\n          );\n        })}\n      </div>\n\n      <박스>\n        <제목 className='red'>Detail</제목>\n      </박스>\n\n      <div className={alert ? 'my-alert' : 'my-alert-hide'}>\n        <p>재고가 얼마 남지 않았습니다.</p>\n      </div>\n\n      <div className='row'>\n        <div className='col-md-6'>\n          <img\n            src={`https://codingapple1.github.io/shop/shoes${\n              찾은상품.id + 1\n            }.jpg`}\n            width='100%'\n          />\n        </div>\n        <div className='col-md-6 mt-4'>\n          <h4 className='pt-5'>{찾은상품.title}</h4>\n          <p>{찾은상품.content}</p>\n          <p>{찾은상품.price}원</p>\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              dispatch({\n                type: '항목추가',\n                데이터: {\n                  id: 찾은상품.id,\n                  name: 찾은상품.title,\n                  quan: 1,\n                  image: `https://codingapple1.github.io/shop/shoes${\n                    찾은상품.id + 1\n                  }.jpg`,\n                  price: 찾은상품.price,\n                },\n              });\n              history.push('/cart');\n            }}\n          >\n            장바구니에 담기\n          </button>\n          &nbsp;\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              history.push('/');\n            }}\n          >\n            뒤로가기\n          </button>\n          <Nav className='mt-5' variant='tabs' defaultActiveKey='/home'>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-0'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(0);\n                }}\n              >\n                0\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-1'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(1);\n                }}\n              >\n                1\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n          <CSSTransition in={스위치} classNames='wow' timeout={500}>\n            <TabContent 누른탭={누른탭} 스위치변경={스위치변경} />\n          </CSSTransition>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TabContent(props) {\n  useEffect(() => {\n    props.스위치변경(true);\n  });\n\n  if (props.누른탭 === 0) return <div>0번째 내용</div>;\n  else if (props.누른탭 === 1) return <div>1번째 내용</div>;\n  else if (props.누른탭 === 2) return <div>2번째 내용</div>;\n}\n\nexport default Detail;\n"],"sourceRoot":""}